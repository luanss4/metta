<div class="login-container">
  <p-toast></p-toast>
  
  <div class="login-card">
    <p-card>
      <ng-template pTemplate="header">
        <div class="logo-container">
          <h1 class="company-name">MEGA</h1>
          <h2 class="app-name">Enterprise Resource Planning</h2>
        </div>
      </ng-template>
      
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="p-fluid">
          <div class="field">
            <label for="username">Username</label>
            <div class="p-input-icon-left">
              <i class="pi pi-user"></i>
              <input 
                id="username" 
                type="text" 
                pInputText 
                formControlName="username" 
                placeholder="Enter your username"
                [ngClass]="{'ng-invalid ng-dirty': loginForm.get('username')?.invalid && loginForm.get('username')?.touched}"
              />
            </div>
            <small 
              *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched" 
              class="p-error"
            >
              Username is required
            </small>
          </div>
          
          <div class="field">
            <label for="password">Password</label>
            <div class="p-input-icon-left">
              <i class="pi pi-lock"></i>
              <input 
                id="password" 
                type="password" 
                pPassword 
                [feedback]="false"
                formControlName="password" 
                placeholder="Enter your password"
                [ngClass]="{'ng-invalid ng-dirty': loginForm.get('password')?.invalid && loginForm.get('password')?.touched}"
              />
            </div>
            <small 
              *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" 
              class="p-error"
            >
              Password is required
            </small>
          </div>
          
          <div class="field">
            <button 
              pButton 
              type="submit" 
              label="Login" 
              icon="pi pi-sign-in" 
              [disabled]="loginForm.invalid || loading"
              [loading]="loading"
            ></button>
          </div>
        </div>
      </form>
    </p-card>
  </div>
</div>